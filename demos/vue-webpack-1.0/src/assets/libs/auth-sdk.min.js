!function(e,t){"use strict";!e.bow&&e.aladdin&&(e.bow=e.aladdin);var n=e.__AUTH_SDK_CONFIG__={runtimes:{PAE_BANK_APP:"paebank",MOBILE_BROWSER:"mb",PC_BROWSER:"pc",WE_CHAT:"wechat",BBC:"bbc"},onIntercepted:function(e,t){},MUST_CLEAR_DATA_CODES:["393","390","391","394","3901","3931"],GUIDE_BIND_CARD_CODES:["310","311","312","3121","313","3131"],INTERCEPT_CONFIGS:{390:{dontCallback:!0,execMethod:"launchLogin"},3901:{dontCallback:!0,execMethod:"launchLogin"},391:{dontCallback:!0,execMethod:"launchLogin"},393:{dontCallback:!0,execMethod:"launchLogin"},3931:{dontCallback:!0,execMethod:"launchLogin"},394:{dontCallback:!0,tipConfig:{title:"温馨提示(394)",message:"您的平安银行账号在其他设备登录。如非本人操作，登录密码可能已泄露，请尽快修改登录密码",leftButtonText:"重置密码",rightButtonText:"立即登录",leftButtonAction:"launchResetPassword",rightButtonAction:"launchLogin"}},399:{dontCallback:!0,tipConfig:{title:"提示(399)",message:"系统错误",buttonText:"确定",action:"none"}},310:{dontCallback:!0,tipConfig:{title:"温馨提示(310)",message:"添加一张银行卡即可使用该服务， 您可添加平安银行或其他银行的银行卡",leftButtonText:"以后再说",rightButtonText:"立即添加",leftButtonAction:"none",rightButtonAction:"launchBindBankCard"}},311:{dontCallback:!0,tipConfig:{title:"温馨提示(311)",message:"添加一张银行卡即可使用该服务， 您可添加平安银行或其他银行的银行卡",leftButtonText:"以后再说",rightButtonText:"立即添加",leftButtonAction:"none",rightButtonAction:"launchBindBankCard"}},312:{dontCallback:!0,tipConfig:{title:"温馨提示(312)",message:"添加一张银行卡即可使用该服务， 您可添加平安银行或其他银行的银行卡",leftButtonText:"以后再说",rightButtonText:"立即添加",leftButtonAction:"none",rightButtonAction:"launchBindBankCard"}},3121:{dontCallback:!0,tipConfig:{title:"温馨提示(3121)",message:"添加一张银行卡即可使用该服务， 您可添加平安银行或其他银行的银行卡",leftButtonText:"以后再说",rightButtonText:"立即添加",leftButtonAction:"none",rightButtonAction:"launchBindBankCard"}},313:{dontCallback:!0,tipConfig:{title:"温馨提示(313)",message:"添加一张银行卡即可使用该服务， 您可添加平安银行或其他银行的银行卡",leftButtonText:"以后再说",rightButtonText:"立即添加",leftButtonAction:"none",rightButtonAction:"launchBindBankCard"}},3131:{dontCallback:!0,tipConfig:{title:"温馨提示(3131)",message:"添加一张银行卡即可使用该服务， 您可添加平安银行或其他银行的银行卡",leftButtonText:"以后再说",rightButtonText:"立即添加",leftButtonAction:"none",rightButtonAction:"launchBindBankCard"}}},pageConfig:{head:{show:!0,text:""},logo:{show:!0,url:""},username:{value:"",mask:!1,editable:!0},buttonText:"登录",links:"11",patters:{1:"",2:""},protocol:{show:!1,text:"",linkURL:""},referee:!1,bindWeChat:{enable:!1},unbindWeChat:{enable:!1}},getBbcURL:function(e){return n.BBC.BASE_URL+n.BBC.services[e]}}}(window),function(e,t,n){"use strict";var o,a,i,r,c=t.runtimes,s=c.MOBILE_BROWSER,d=c.PAE_BANK_APP,u=c.PC_BROWSER,l=c.WE_CHAT,h=c.BBC;t.BBC={BASE_URL:"https://rmb.pingan.com.cn/brcp/uc",services:{BBC_LOGIN_INFO:"/cust/uc-third-auth.qryBBCLoginInfo.do",SX_INFO:"/cust/sxinfo.do"},SESSION_EXCEPTION_URL:"https://bank-static.pingan.com.cn/bbc/index/landing.html"},t.componentsMainGate={LOGIN:(o={},o[s]="https://bank-static.pingan.com.cn/ibank/member/mobile/login/pages/login.html",o[u]="https://bank-static.pingan.com.cn/ibank/member/mobile/login/pages/login.html",o[l]="https://bank-static.pingan.com.cn/ibank/member/wechat/login/pages/login.html",o[h]="https://bank-static.pingan.com.cn/ibank/member/bbc/login/pages/login.html",o),OTP_LOGIN_BBC:(a={},a[h]="https://bank-static.pingan.com.cn/ibank/member/bbc/login/pages/otp-login-bbc.html",a),FORGET_PASSWORD:(i={},i[d]="/member/forget-password/pages/find-password.html?from=common394",i[s]="https://bank-static.pingan.com.cn/ibank/member/mobile/forget-password/pages/find-password.html",i[u]="https://bank-static.pingan.com.cn/ibank/member/mobile/forget-password/pages/find-password.html",i[l]="https://bank-static.pingan.com.cn/ibank/member/wechat/forget-password/pages/find-password.html",i[h]="https://bank-static.pingan.com.cn/ibank/member/bbc/forget-password/pages/find-password.html",i),BIND_BANK_CARD:(r={},r[d]="https://bank-static.pingan.com.cn/brac-ia/accountManager/pages/addCardRouter.html",r[s]="https://bank-static.pingan.com.cn/brac-ia/accountManager/pages/addCardRouter.html",r[u]="https://bank-static.pingan.com.cn/brac-ia/accountManager/pages/addCardRouter.html",r[l]="https://bank-static.pingan.com.cn/brac-ia/accountManager/pages/addCardRouter.html",r[h]="https://bank-static.pingan.com.cn/brac-ia/accountManager/pages/addCardRouter.html",r)}}(window,__AUTH_SDK_CONFIG__),function(e,t,n){"use strict";var o=navigator.userAgent,a=t.runtimes.MOBILE_BROWSER;o.indexOf("PAEBank")>0&&(a=t.runtimes.PAE_BANK_APP),o.indexOf("MicroMessenger")>0&&(a=t.runtimes.WE_CHAT);var i=document.cookie.match(/bbcInfo=([^;]+)/i);if(i&&i.length>=2){var r=i[1];try{r=JSON.parse(decodeURIComponent(r))}catch(e){}if(t.mchId=r.mchId||t.mchId,1==r.loginType){a=t.runtimes.BBC;var c=navigator.userAgent.match(/PARS\/([\d.]+)/);c&&c.length>=2&&(t.isJGJ=!0)}}e.__RUNTIME_ENVIRONMENT__=a}(window,__AUTH_SDK_CONFIG__),function(e,t,n){"use strict";function o(e,t){var n=null;return function(){n&&clearTimeout(n),n=setTimeout(e,t||50)}}function a(){s&&document.head.removeChild(s),d&&document.head.removeChild(d);var e=".aladdin-dialog{position:fixed;top:0;left:0;width:100%;height:100%;z-index:9999;display:-webkit-box;-webkit-box-orient:horizontal;-webkit-box-pack:center;-webkit-box-align:center;background:rgba(0,0,0,.12)}div.aladdin-dialog-content{font-size: 13px;/*box-shadow:1px 1px 10px 6px rgba(0,0,0,.5);*/border-radius:15px;width:270px;-webkit-background-clip:padding-box;background-clip:padding-box;pointer-events:auto;background-color:rgba(253,253,253,1);position:relative;}.aladdin-dialog-header{height:48px;line-height:48px;text-align:center;position:relative;border-bottom:1px solid #ded8d8}.aladdin-dialog-body{min-height:40px;border-top-left-radius:6px;border-top-right-radius:6px;border-bottom:1px solid #ded8d8;padding:18px;display:-webkit-box;display:box;-webkit-box-pack:center;-webkit-box-align:center;-webkit-box-orient:vertical}.aladdin-dialog-body>div{width:100%;text-align:center}.aladdin-dialog-footer{height:42px;line-height:42px;border-bottom-left-radius:6px;border-bottom-right-radius:6px;width:100%}.aladdin-dialog-footer-btn{color:#157EFB;font-size: 16px;text-align:center;width:100%;line-height:42px;text-align:center;display:inline-block}.aladdin-dialog-footer-left{font-weight: 500;width:49%;border-right:1px solid #ded8d8}.aladdin-dialog-footer-right{width:49%}";s=i(e);var t=document.querySelector('meta[name="viewport"]');if(t){var n=t.getAttribute("content").match(/initial\-scale=([\d\.]+)/);if(n){var o=parseFloat(n[1]);if(o<1)var a=parseFloat(1/o);else a=1;d=i(".aladdin-dialog-content{-webkit-transform: scale("+a+","+a+");transform: scale("+a+","+a+");}")}}}function i(e){if(e){var t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");return n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),t.appendChild(n),n}}var r=!1,c=e.onload,s=void 0,d=void 0;__RUNTIME_ENVIRONMENT__===t.runtimes.PAE_BANK_APP?r=!0:e.onload=function(){"function"==typeof c&&c.apply(this,Array.prototype.slice.call(arguments)),setTimeout(function(){r=!0},10)};var u=!1;window.addEventListener("resize",o(a,50),!1);var l=e.__AUTH_UTILS__={addParams:function(e,t){if(!t)return e;for(var o in t)t.hasOwnProperty(o)&&t[o]!==n&&(e+=e.indexOf("?")>0?"&"+o+"="+encodeURIComponent(t[o]):"?"+o+"="+encodeURIComponent(t[o]));return e},launchComponent:function(e,t,n,o,a,i){t||r||(t=location.href),location.href=l.getLaunchURL(e,t,n,o,a,btoa(l.toUnicode(JSON.stringify(i))))},launchNativeComponent:function(e,t,n,o,a){var i=l.getLaunchURL(e,t,n,o);try{bow.navigator.forward({url:i},a)}catch(e){a({message:"Auth SDK在口袋app中运行需依赖bow和aladdin,请确认已正确加载依赖。"},null)}},getLaunchURL:function(e,n,o,a,i,r){var c={referer:location.href,target:n,channel:o,partnerId:a,mchId:i,config:r},s=t.componentsMainGate[e][__RUNTIME_ENVIRONMENT__];return l.addParams(s,c)},init:function(){a()},openTip:function(e,n,o,a){function i(){h.style.visibility="hidden",u=!1,setTimeout(function(){h.remove()},1200);try{p[0].removeEventListener("touchstart",r),p[0].removeEventListener("touchstart",c),p[1].removeEventListener("touchstart",s)}catch(e){}}function r(t){i(),AuthCore[e.action].call(AuthCore,n,o)}function c(a){if(__RUNTIME_ENVIRONMENT__===t.runtimes.PAE_BANK_APP&&~t.GUIDE_BIND_CARD_CODES.indexOf(o))try{bow.call("bowtalkingData","trackEvent",{eventId:"05-登录",eventLabel:"0512001-弹框引导添加银行卡-以后再说"},function(e,t){})}catch(e){}i(),AuthCore[e.leftButtonAction].call(AuthCore,n,o)}function s(a){if(__RUNTIME_ENVIRONMENT__===t.runtimes.PAE_BANK_APP&&~t.GUIDE_BIND_CARD_CODES.indexOf(o))try{bow.call("bowtalkingData","trackEvent",{eventId:"05-登录",eventLabel:"0512002-弹框引导添加银行卡-立即添加"},function(e,t){})}catch(e){}i(),AuthCore[e.rightButtonAction].call(AuthCore,n,o)}if(!u){e.message=e.message.replace(/{{UC-AUTH-MSG}}/g,a),u=!0;var d='<div class="aladdin-dialog"><div class="aladdin-dialog-content">';if(e.title,d+='<div class="aladdin-dialog-body"><div>'+l.htmlEscape(e.message)+'</div></div><div class="aladdin-dialog-footer">',e.buttonText)d+='<span class="aladdin-dialog-footer-btn">'+l.htmlEscape(e.buttonText)+"</span>";else{if(!e.leftButtonText||!e.rightButtonText)return void console.error("The auth code tip config invalid ["+JSON.stringify(e)+"], please check your code.");d+='<span class="aladdin-dialog-footer-btn aladdin-dialog-footer-left">'+l.htmlEscape(e.leftButtonText)+"</span>",d+='<span class="aladdin-dialog-footer-btn aladdin-dialog-footer-right">'+l.htmlEscape(e.rightButtonText)+"</span>"}d+="</div></div></div>";var h=document.createElement("div");h.className="aladdin-dialog",h.innerHTML=d,document.body.appendChild(h),h.addEventListener("touchstart",function(e){e.preventDefault()},!1);var p=h.getElementsByClassName("aladdin-dialog-footer-btn");e.buttonText&&p[0]?p[0].addEventListener("touchstart",r,!1):e.leftButtonText&&e.rightButtonText&&p[1]&&(p[0].addEventListener("touchstart",c,!1),p[1].addEventListener("touchstart",s,!1))}},toUnicode:function(){for(var e,t=arguments.length>0&&arguments[0]!==n?arguments[0]:"",o=[],a=0,i=t.length;a<i;a++)e=t.charCodeAt(a),e<=255?o[a]=t[a]:o[a]="\\u"+e.toString(16);return o.join("")},htmlEscape:function(){var e=arguments.length>0&&arguments[0]!==n?arguments[0]:"";return(""+e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},versionCompare:function(e,t){for(var n,o,a=function(e){e=e.replace(/(\d+)([^\d\.]+)/,"$1.$2"),e=e.replace(/([^\d\.]+)(\d+)/,"$1.$2");for(var t,n,o=e.split("."),a={rc:-1,pre:-2,beta:-3,b:-3,alpha:-4,a:-4},i=[],r=0;r<o.length;++r)t=o[r],n=parseInt(t,10),isNaN(n)&&(n=a[t]||-1),i.push(n);return i},i=a(e),r=a(t),c=0;c<Math.max(i.length,r.length);++c){if(o=i[c]||0,n=r[c]||0,n>o)return 1;if(o>n)return-1}return 0}}}(window,__AUTH_SDK_CONFIG__),function(e,t,n,o){"use strict";function a(e,o,a,r){var c=t.INTERCEPT_CONFIGS[e];if(c&&(c.tipConfig?n.openTip(c.tipConfig,o,e,a):c.execMethod&&(AuthCore[c.execMethod].call(AuthCore,o,e,a),__RUNTIME_ENVIRONMENT__===t.runtimes.BBC&&"launchLogin"===c.execMethod&&(t.blockRequests=!0,i[r.sender].push(r.options))),"function"==typeof t.onIntercepted&&t.onIntercepted(e,a),c.dontCallback)){if(__RUNTIME_ENVIRONMENT__===t.runtimes.PAE_BANK_APP)try{bow.call("loading","stop",function(e){})}catch(e){}return!0}}var i={bow:[],ajax:[]};e.__AUTH_AGENTS_INTERCEPTORS__={_flashQueue:function(){for(var e;e=i.bow.shift();)bow.http.request(e.opts,e.cb);for(;e=i.ajax.shift();)$.ajax(e)},_cleanQueue:function(){i.bow=[],i.ajax=[]},bow:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(n){if(!e.bow||!bow.http||!bow.http.request)return void console.warn("No bow.http.request method defined, please check your code!");var o=bow.http.request;bow.http.request=function(e,r){if(t.blockRequests)return void i.bow.push({opts:e,cb:r});var c=function(t,o){return null!==t?void r(t,o):(o.headers||(o.headers={}),void(a(o.headers["UC-AUTH-CODE"]||o.headers["Uc-Auth-Code"]||o.headers["uc-auth-code"],n,o.headers["UC-AUTH-MSG"]||o.headers["Uc-Auth-Msg"]||o.headers["uc-auth-msg"],{sender:"bow",options:{opts:e,cb:r}})||r(t,o)))};return o.call(this,e,c)}}),"$.ajax":function(){var n=arguments.length>0&&arguments[0]!==o?arguments[0]:{};if(!e.$||!$.ajax)return void console.warn("No $.ajax method defined, please check your code!");var r=$.ajax;$.ajax=function(e){if(t.blockRequests)return void i.ajax.push(e);var o=e.success;return e.success=function(t,i,r){try{if(a(r.getResponseHeader("UC-AUTH-CODE")||r.getResponseHeader("Uc-Auth-Code")||r.getResponseHeader("uc-auth-code"),n,r.getResponseHeader("UC-AUTH-MSG")||r.getResponseHeader("Uc-Auth-Msg")||r.getResponseHeader("uc-auth-msg"),{sender:"ajax",options:e}))return}catch(e){console.error("无UC-AUTH-CODE头，且跨域了。",e)}"function"==typeof o&&o.call(this,t,i,r)},r.call($,e)}}}}(window,__AUTH_SDK_CONFIG__,__AUTH_UTILS__);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,t,n,o,a,i){"use strict";function r(e){var n=t.blockRequests;t.blockRequests=!1;var o=e.success,a=e.error;if(window.$&&$.ajax)e.type=e.type||e.method,e.data=e.body||{},s(e.data,e.qs||{}),delete e.body,delete e.qs,e.success=function(e,t,n){o(e,t,n)},e.error=function(e,t){a(null,e.status,e)},$.ajax(e);else{if(!window.bow||!bow.http)throw new Error("Auth sdk bbc环境必须依赖Bow或jQuery.js或zepto.js或prototype.js, 请检查依赖是否OK");delete e.success,delete e.error,e.method=e.method||e.type,bow.http.request(e,function(e,t){return e?void a(null,0,t.headers):void(t.status>=200&&t.status<300||304===t.status?o(t.json(),t.status,t.headers):a(null,e,t.headers))})}t.blockRequests=n}function c(){for(var e=arguments.length>0&&arguments[0]!==i?arguments[0]:{},t=e.agents,n=null,o=0,r=t.length;o<r;o++){if(n=a[t[o]],"function"!=typeof n)throw new Error("No interceptor find for agent [ "+t[o]+" ], please check your code!");n({channel:l})}}function s(e,t){for(var n in t)"object"===_typeof(t[n])?(e[n]||(e[n]=Object.create(null)),s(e[n],t[n])):e[n]=t[n]}function d(e){if(e)for(var n in e)"runtime"!==n&&t[n]&&("object"===_typeof(e[n])?s(t[n],e[n]):t[n]=e[n])}var u=!1,l=null,h=null,p=null,f=0,g=!1,b={loginLaunched:!1,creditCardBindLaunched:!1,creditCardApplyLaunched:!1,bankCardBindLaunched:!1};e.addEventListener("pageshow",function(){for(var e in b)b[e]=!1});try{aladdin.on("pageDidBack",function(){for(var e in b)b[e]=!1})}catch(e){}var m={paebank:{login:function(e,t,o,a,i,r){try{var c=n.versionCompare("3.1.1",bow.env.appVersion||"")>-1;r.url=r.url||e,bow.auth.launchLogin({destination:r},function(e,t){if(b.loginLaunched=!1,"0"==t.state&&!c&&r.url){if((!r.type||"webapp"===r.type)&&r.url.indexOf("http")>-1&&(r.tpl=r.tpl||"webview"),r&&r.forwardInCurrentPage)return void(location.href=r.url);delete r.forwardInCurrentPage,bow.navigator.forward(r)}})}catch(e){console.error("Auth SDK在口袋app中运行需依赖bow和aladdin,请确认已正确加载依赖。")}},forgetPassword:function(){b.resetPasswordLaunched||(b.resetPasswordLaunched=!0,n.launchNativeComponent("FORGET_PASSWORD",null,l,h,function(e){b.resetPasswordLaunched=!1,null!==e&&console.error("调用bow.navigator.forward出错",e)}))},bindBankCard:function(){var e={businessType:"03",sceneId:"01",channelCode:"C0012",source:"KDAPP3",outerSource:"new_member",url:location.href},n=encodeURIComponent(JSON.stringify(e));bow.navigator.forward({tpl:"webview",url:t.componentsMainGate.BIND_BANK_CARD[o]+"?"+n})}},mb:{login:function(e,t,o,a,i){n.launchComponent("LOGIN",e,t||l,o||h,a||p,i)},forgetPassword:function(e,t,o,a,i){n.launchComponent("FORGET_PASSWORD",e,t||l,o||h,a||p,i)},bindBankCard:function(e,n,a,i){var r={businessType:"03",sceneId:"01",channelCode:"C0012",url:location.href},c=encodeURIComponent(JSON.stringify(r));location.href=t.componentsMainGate.BIND_BANK_CARD[o]+"?"+c}},pc:{login:function(e,t,o,a,i){n.launchComponent("LOGIN",e,t||l,o||h,a||p,i)},forgetPassword:function(e,t,o,a,i){n.launchComponent("FORGET_PASSWORD",e,t||l,o||h,a||p,i)},bindBankCard:function(e,n,a,i){var r={businessType:"03",sceneId:"01",channelCode:n||l||"C0012",url:e||location.href},c=encodeURIComponent(JSON.stringify(r));location.href=t.componentsMainGate.BIND_BANK_CARD[o]+"?"+c}},wechat:{login:function(e,t,o,a,i){n.launchComponent("LOGIN",e,t||l,o||h,a||p,i)},forgetPassword:function(e,t,o,a,i){n.launchComponent("FORGET_PASSWORD",e,t||l,o||h,a||p,i)},bindBankCard:function(e,n,a,i){var r={businessType:"03",sceneId:"01",channelCode:"C0012",url:location.href},c=encodeURIComponent(JSON.stringify(r));location.href=t.componentsMainGate.BIND_BANK_CARD[o]+"?"+c}},bbc:{login:function e(o,i,c,s,d){function u(e,t,r){if(0===+e.responseCode){var u=+e.nextAction,f=e.telNo;switch(u){case 1:d.head.text="平安银行注册",/^\d{3}\*{4}\d{4}$/.test(f)?d.username.value=f:"string"==typeof f&&(d.username.value=f.replace(/(\d{3})\d{4}(\d{4})/,function(e,t,n){return t+"****"+n}),d.username.notAllow=[f]),d.username.editable=!0,d.patters[2]="",n.launchComponent("OTP_LOGIN_BBC",o,i||l,c||h,s||p,d);break;case 2:d.links="10",d.username.value=f,d.username.editable=!1,d.patters[2]="温馨提示：首次使用需要验证您的平安银行登录账号，登录成功后下次无需再次登录。",n.launchComponent("LOGIN",o,i||l,c||h,s||p,d);break;case 3:d.head.text="平安银行登录",d.username.value=f,d.username.editable=!0,d.patters[2]="",n.launchComponent("OTP_LOGIN_BBC",o,i||l,c||h,s||p,d);break;default:a._flashQueue()}}else AuthCore.onBBCSessionException(e,t,r)}function b(){r({method:"get",url:t.getBbcURL("BBC_LOGIN_INFO"),qs:{channelId:i||l,_:Date.now()},timeout:5e3,xhrFields:{withCredentials:!0},success:function(e,n,o){t.blockRequests=!1,u(e,n,o)},error:function(e,n,o){return t.blockRequests=!1,a._cleanQueue(),0===n?void AuthCore.openTip({message:"网络错误，请检查您的网络后重试",buttonText:"确定",action:"none"}):void AuthCore.onBBCSessionException(e,n,o)}})}return o||(o=location.href),t.isJGJ?void r({method:"get",url:t.getBbcURL("SX_INFO"),qs:{channelId:i||l,_:Date.now()},timeout:5e3,xhrFields:{withCredentials:!0},success:function(n,r,u){function l(){PALifeOpen.wangCaiBindCard(function(t){switch(t.ret){case"0":if(f>=1)return void(f=0);e(o,i,c,s,d),f++;break;case"-1":a._cleanQueue();break;case"-2":a._cleanQueue(),AuthCore.openTip({message:"旺财开户操作失败：msg="+t.msg,buttonText:"确定",action:"none"});break;default:a._cleanQueue(),AuthCore.openTip({message:"旺财开户界面调用异常：rsp="+JSON.stringify(t),buttonText:"确定",action:"none"})}},function(e){a._cleanQueue(),AuthCore.openTip({message:"旺财开户界面调用异常：error="+JSON.stringify(e),buttonText:"确定",action:"none"})})}if(t.blockRequests=!1,0===+n.responseCode)switch(n.isWangcaiOpened){case"1":b();break;case"0":if(g)return void l();var h=document.createElement("script");h.src="https://elis-ecocdn.pingan.com.cn/lilith/lib/PALifeOpen.1.3.min.js",h.onload=function(){g=!0,PALifeOpen.config(),l()},h.onerror=function(){a._cleanQueue(),AuthCore.openTip({message:"旺财组件加载或执行失败，请检查您的网络并重试",buttonText:"确定",action:"none"})},document.head.appendChild(h);break;default:a._cleanQueue(),AuthCore.openTip({message:"接口发生了逻辑意外：resp="+JSON.stringify(n),buttonText:"确定",action:"none"})}else a._cleanQueue(),AuthCore.onBBCSessionException(n,r,u)},error:function(e,n,o){return t.blockRequests=!1,a._cleanQueue(),0===n?void AuthCore.openTip({message:"网络错误，请检查您的网络后重试",buttonText:"确定",action:"none"}):void AuthCore.onBBCSessionException(e,n,o)}}):void b()},forgetPassword:function(e,t,o,a,i){n.launchComponent("FORGET_PASSWORD",e,t||l,o||h,a||p,i)},bindBankCard:function(e,n,a,i){var r={businessType:"03",sceneId:"01",channelCode:"C0012",url:location.href},c=encodeURIComponent(JSON.stringify(r));location.href=t.componentsMainGate.BIND_BANK_CARD[o]+"?"+c}}};e.AuthCore={_VERSION:"0.0.1",init:function(){var e=arguments.length>0&&arguments[0]!==i?arguments[0]:{};if(!u){if(n.init(),l=e.channel,h=e.partnerId,p=e.mchId,!e.channel)throw new Error("Channel option can't be empty, please check your code!");"function"==typeof e.onIntercepted&&(t.onIntercepted=e.onIntercepted)}d(e.config),u||(c(e),u=!0)},launchLogin:function(){function e(){if(o!==t.runtimes.PAE_BANK_APP||!b.loginLaunched){b.loginLaunched=!0;var e={};s(e,t.pageConfig),s(e,n.pageConfig||{});var a=n.forwardConfig||{};m[o].login(n.target,n.channel,n.partnerId,n.mchId,e,a)}}var n=arguments.length>0&&arguments[0]!==i?arguments[0]:{},a=arguments[1];if(o===t.runtimes.PAE_BANK_APP&&~t.MUST_CLEAR_DATA_CODES.indexOf(a))try{bow.auth.synLogout(e)}catch(e){}else e()},launchBindBankCard:function(){var e=arguments.length>0&&arguments[0]!==i?arguments[0]:{};m[o].bindBankCard(e.target,e.channel||l,e.partnerId||h)},launchResetPassword:function(){var e=arguments.length>0&&arguments[0]!==i?arguments[0]:{},n=arguments[1],a=function(){m[o].forgetPassword(e.target,e.channel||l,e.partnerId||h)};if(o===t.runtimes.PAE_BANK_APP&&n&&"394"===n)try{bow.auth.synLogout(a)}catch(e){}else a()},back:function(){o===t.runtimes.PAE_BANK_APP?bow.navigator.back():history.back()},none:function(){},onBBCSessionException:function(){location.href=t.BBC.SESSION_EXCEPTION_URL},openTip:function(e){n.openTip(e,null,0)}}}(window,__AUTH_SDK_CONFIG__,__AUTH_UTILS__,__RUNTIME_ENVIRONMENT__,__AUTH_AGENTS_INTERCEPTORS__);